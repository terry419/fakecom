### 6.6. 유닛-컨트롤러 실행 구조 (Implementation)

*   GDD 6.5절의 설계 사상을 구현하기 위해, 실제 코드 레벨에서는 다음의 핵심 클래스를 정의하고 역할을 분리한다.

| 클래스명 | 타입 | 주요 역할 | 설명 |
| :--- | :--- | :--- | :--- |
| **`UnitDataSO`** | `ScriptableObject` | **기본 스펙 정의** | 유닛의 변하지 않는 기본 데이터 (최대 HP, 기본 스탯, 병과 등)를 정의하는 데이터 컨테이너. |
| **`Unit.cs`** | `MonoBehaviour` | **상태 관리 및 행동 주체** | 전장에 스폰되는 모든 유닛 게임 오브젝트에 부착. `UnitDataSO`를 참조하여 자신의 상태를 초기화하며, 현재 HP, 위치, 버프/디버프 등 실시간으로 변하는 상태를 관리. `MoveTo()`, `TakeDamage()` 등 외부의 명령을 받아 행동을 '실행'하는 역할. |
| **`PlayerController.cs`** | 일반 C# 클래스 | **판단 및 명령 주체 (플레이어)** | `TurnManager`에게 턴을 부여받으면 활성화. 유저 입력을 받아 상황을 '판단'하고, 자신이 조종하는 `Unit` 인스턴스에게 `Attack()`, `MoveTo()` 같은 명령을 '지시'하는 두뇌 역할. |
| **`AIController.cs`** | 일반 C# 클래스 | **판단 및 명령 주체 (AI)** | `TurnManager`에게 턴을 부여받으면 활성화. AI 로직에 따라 상황을 '판단'하고, 자신이 조종하는 `Unit` 인스턴스에게 `Attack()`, `MoveTo()` 같은 명령을 '지시'하는 두뇌 역할. |

*   **실행 흐름:**
    1.  `UnitManager`가 `UnitDataSO`를 기반으로 `Unit` 프리팹을 전장에 스폰한다.
    2.  `TurnManager`가 다음 턴 유닛을 결정하고, 해당 `Unit`의 컨트롤러(`PlayerController` 또는 `AIController`)를 활성화한다.
    3.  컨트롤러는 입력을 받거나 스스로 판단하여 `Unit`에게 행동을 명령한다.
    4.  `Unit`은 명령에 따라 행동(애니메이션, 이동, 상태 변경 등)을 수행한다.
